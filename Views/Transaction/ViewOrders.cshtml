@using Microsoft.EntityFrameworkCore.Storage
@model CloudDevelopment.Models.transactionTable
@{
    ViewData["Title"] = "ViewOrders";
    var transactions = ViewData["Transactions"] as List<CloudDevelopment.Models.transactionTable>;
}

<h1>You are now viewing all user orders</h1>

<table>
  <thead>
                <tr>
                    <th>ProductID</th>
                    <th>UserID</th>
                    <th>TransactionID</th>
                    <th>Date</th>
                    <th>Status</th>
                </tr>
    </thead>
    <tbody>
                @if (transactions != null)
                {
                    foreach (var transaction in transactions)
                    {
                        <tr>
                            <td>@transaction.ProductID</td>
                            <td>@transaction.UserID</td>
                            <td>@transaction.TransactionID</td>
                            <td>@transaction.TransactionDate</td>
                            <td>@transaction.TransactionStatus</td>
                    <form asp-controller="Transaction" asp-action="ProcessOrder" method="post">
                        <input type="hidden" name="transactionID" value="@transaction.TransactionID" />
                        <button type="submit" class="button">Process Orders</button>
                    </form>
                        </tr>
                    }
                }
                else
                {
                    <tr>
                        <td colspan="4">No transactions found.</td>
                    </tr>
                }
    </tbody>
</table>

